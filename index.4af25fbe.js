document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("table"),t=e.querySelector("tbody"),n=e.querySelectorAll("th"),a=document.createElement("form"),r=document.createElement("div"),o=1,c=!1;r.setAttribute("data-qa","notification"),a.className="new-employee-form";var l=[{label:"Name",type:"text",fieldName:"name",qa:"name"},{label:"position",type:"text",fieldName:"position",qa:"position"},{label:"Office",type:"select",fieldName:"office",qa:"office",options:["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"]},{label:"age",type:"number",fieldName:"age",qa:"age"},{label:"salary",type:"number",fieldName:"salary",qa:"salary"}];function i(e,t){r.className=e,r.textContent=t}l.forEach(function(e){var t=e.label,n=e.type,r=e.fieldName,o=e.qa,c=e.options,l=document.createElement("label"),i="select"===n?document.createElement("select"):document.createElement("input");return i.name=r,"select"===n?c.forEach(function(e){var t=document.createElement("option");t.value=e,t.textContent=e,i.append(t)}):i.type=n,"name"===r&&(i.setAttribute("minLength","4"),i.setAttribute("maxLength","50"),i.setAttribute("placeholder","length between 4-50")),"age"===r&&(i.setAttribute("min","18"),i.setAttribute("max","90"),i.setAttribute("placeholder","age between 18-90")),l.setAttribute("data-qa",o),l.innerHTML="".concat(t,": "),l.append(i),a.append(l),i}),document.body.appendChild(a);var d=document.createElement("button");function u(e,t){e.textContent=t.value,t.remove(),c=!1}d.className="button",d.textContent="Save to table",d.addEventListener("click",function(e){var n,o,c;e.preventDefault(),o={},c=!0,l.forEach(function(e){var t=e.fieldName,n=a.querySelector("[name='".concat(t,"']"));o[t]="salary"===t?"$".concat(parseFloat(n.value).toLocaleString("en-US")):n.value,""===n.value.trim()&&(c=!1,i("error","all fields required")),n.checkValidity()||(c=!1,i("error","check values in inputs "))}),c&&(n=document.createElement("tr"),Object.values(o).forEach(function(e){var t=document.createElement("td");t.textContent=e,n.append(t)}),t.append(n),i("success","success, new Person in our team!!"),a.reset()),document.body.appendChild(r),setTimeout(function(){r.remove()},3e3)}),a.append(d),t.addEventListener("dblclick",function(e){var t=e.target.closest("td"),n=document.createElement("input"),a=t.textContent;t&&!c&&(c=!0,n.addEventListener("blur",function(){u(t,n)}),n.addEventListener("keydown",function(e){"Enter"===e.key&&u(t,n)}),n.value=a,n.className="cell-input",n.style.width="".concat(t.getBoundingClientRect().width-36,"px"),t.textContent="",t.appendChild(n))}),n.forEach(function(e,n){e.addEventListener("click",function(){var e;return e=Array.from(document.querySelectorAll("table tbody tr")),void(o=-o,e.sort(function(e,t){var a=function(e){return parseFloat(e.replace(/[$,]/g,""))||e},r=a(e.children[n].textContent),c=a(t.children[n].textContent);return r<c?1*o:r>c?-1*o:0}),t.innerHTML="",e.forEach(function(e){return t.appendChild(e)}))})}),t.addEventListener("click",function(e){var n,a,r,o=e.target.closest("tr");o&&(n=Array.from(t.children).indexOf(o),(r=(a=Array.from(document.querySelectorAll("table tbody tr")))[n])&&(a.forEach(function(e){return e.classList.remove("active")}),r.className="active"))})});//# sourceMappingURL=index.4af25fbe.js.map

//# sourceMappingURL=index.4af25fbe.js.map
